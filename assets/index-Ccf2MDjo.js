var Xi=Object.defineProperty;var Xn=e=>{throw TypeError(e)};var Qi=(e,t,r)=>t in e?Xi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ne=(e,t,r)=>Qi(e,typeof t!="symbol"?t+"":t,r),Br=(e,t,r)=>t.has(e)||Xn("Cannot "+r);var c=(e,t,r)=>(Br(e,t,"read from private field"),r?r.call(e):t.get(e)),M=(e,t,r)=>t.has(e)?Xn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),S=(e,t,r,s)=>(Br(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Y=(e,t,r)=>(Br(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const Xr=!1;var vs=Array.isArray,Vi=Array.prototype.indexOf,Gt=Array.prototype.includes,Or=Array.from,ea=Object.defineProperty,ir=Object.getOwnPropertyDescriptor,gs=Object.getOwnPropertyDescriptors,ta=Object.prototype,ra=Array.prototype,vn=Object.getPrototypeOf,Qn=Object.isExtensible;const na=()=>{};function sa(e){return e()}function Qr(e){for(var t=0;t<e.length;t++)e[t]()}function ms(){var e,t,r=new Promise((s,i)=>{e=s,t=i});return{promise:r,resolve:e,reject:t}}const Q=2,Ht=4,$t=8,ws=1<<24,lt=16,Oe=32,Lt=64,Vr=128,Ae=512,H=1024,V=2048,Ie=4096,me=8192,nt=16384,Wt=32768,jt=65536,Vn=1<<17,ia=1<<18,Zt=1<<19,ys=1<<20,tt=1<<25,bt=65536,en=1<<21,gn=1<<22,st=1<<23,Mt=Symbol("$state"),aa=Symbol(""),dt=new class extends Error{constructor(){super(...arguments);Ne(this,"name","StaleReactionError");Ne(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function oa(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function la(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function fa(e,t,r){throw new Error("https://svelte.dev/e/each_key_duplicate")}function ua(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ca(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function da(e){throw new Error("https://svelte.dev/e/effect_orphan")}function _a(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ha(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function pa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function va(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ga(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ma=1,wa=2,ya=16,Ea=1,ba=2,J=Symbol(),Es="http://www.w3.org/1999/xhtml";function Aa(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function bs(e){return e===this.v}function Sa(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function As(e){return!Sa(e,this.v)}let cr=!1,La=!1;function Ta(){cr=!0}let $=null;function Yt(e){$=e}function Ss(e,t=!1,r){$={p:$,i:!1,c:null,e:null,s:e,x:null,l:cr&&!t?{s:null,u:null,$:[]}:null}}function Ls(e){var t=$,r=t.e;if(r!==null){t.e=null;for(var s of r)zs(s)}return t.i=!0,$=t.p,{}}function dr(){return!cr||$!==null&&$.l===null}let _t=[];function Ts(){var e=_t;_t=[],Qr(e)}function it(e){if(_t.length===0&&!ar){var t=_t;queueMicrotask(()=>{t===_t&&Ts()})}_t.push(e)}function Pa(){for(;_t.length>0;)Ts()}function Ps(e){var t=I;if(t===null)return D.f|=st,e;if((t.f&Wt)===0&&(t.f&Ht)===0)throw e;rt(e,t)}function rt(e,t){for(;t!==null;){if((t.f&Vr)!==0){if((t.f&Wt)===0)throw e;try{t.b.error(e);return}catch(r){e=r}}t=t.parent}throw e}const Ua=-7169;function G(e,t){e.f=e.f&Ua|t}function mn(e){(e.f&Ae)!==0||e.deps===null?G(e,H):G(e,Ie)}function Us(e){if(e!==null)for(const t of e)(t.f&Q)===0||(t.f&bt)===0||(t.f^=bt,Us(t.deps))}function Cs(e,t,r){(e.f&V)!==0?t.add(e):(e.f&Ie)!==0&&r.add(e),Us(e.deps),G(e,H)}const Lr=new Set;let L=null,tn=null,X=null,le=[],Nr=null,ar=!1,Bt=null;var Qe,xt,pt,It,Ot,Nt,Ve,ke,Rt,ce,rn,nn,sn,an;const Ln=class Ln{constructor(){M(this,ce);Ne(this,"current",new Map);Ne(this,"previous",new Map);M(this,Qe,new Set);M(this,xt,new Set);M(this,pt,0);M(this,It,0);M(this,Ot,null);M(this,Nt,new Set);M(this,Ve,new Set);M(this,ke,new Map);Ne(this,"is_fork",!1);M(this,Rt,!1)}skip_effect(t){c(this,ke).has(t)||c(this,ke).set(t,{d:[],m:[]})}unskip_effect(t){var r=c(this,ke).get(t);if(r){c(this,ke).delete(t);for(var s of r.d)G(s,V),Me(s);for(s of r.m)G(s,Ie),Me(s)}}process(t){var i;le=[],this.apply();var r=Bt=[],s=[];for(const a of t)Y(this,ce,nn).call(this,a,r,s);if(Bt=null,Y(this,ce,rn).call(this)){Y(this,ce,sn).call(this,s),Y(this,ce,sn).call(this,r);for(const[a,o]of c(this,ke))Is(a,o)}else{tn=this,L=null;for(const a of c(this,Qe))a(this);c(this,Qe).clear(),c(this,pt)===0&&Y(this,ce,an).call(this),es(s),es(r),c(this,Nt).clear(),c(this,Ve).clear(),tn=null,(i=c(this,Ot))==null||i.resolve()}X=null}capture(t,r){r!==J&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&st)===0&&(this.current.set(t,t.v),X==null||X.set(t,t.v))}activate(){L=this,this.apply()}deactivate(){L===this&&(L=null,X=null)}flush(){var t;if(le.length>0)L=this,Ds();else if(c(this,pt)===0&&!this.is_fork){for(const r of c(this,Qe))r(this);c(this,Qe).clear(),Y(this,ce,an).call(this),(t=c(this,Ot))==null||t.resolve()}this.deactivate()}discard(){for(const t of c(this,xt))t(this);c(this,xt).clear()}increment(t){S(this,pt,c(this,pt)+1),t&&S(this,It,c(this,It)+1)}decrement(t){S(this,pt,c(this,pt)-1),t&&S(this,It,c(this,It)-1),!c(this,Rt)&&(S(this,Rt,!0),it(()=>{S(this,Rt,!1),Y(this,ce,rn).call(this)?le.length>0&&this.flush():this.revive()}))}revive(){for(const t of c(this,Nt))c(this,Ve).delete(t),G(t,V),Me(t);for(const t of c(this,Ve))G(t,Ie),Me(t);this.flush()}oncommit(t){c(this,Qe).add(t)}ondiscard(t){c(this,xt).add(t)}settled(){return(c(this,Ot)??S(this,Ot,ms())).promise}static ensure(){if(L===null){const t=L=new Ln;Lr.add(L),ar||it(()=>{L===t&&t.flush()})}return L}apply(){}};Qe=new WeakMap,xt=new WeakMap,pt=new WeakMap,It=new WeakMap,Ot=new WeakMap,Nt=new WeakMap,Ve=new WeakMap,ke=new WeakMap,Rt=new WeakMap,ce=new WeakSet,rn=function(){return this.is_fork||c(this,It)>0},nn=function(t,r,s){t.f^=H;for(var i=t.first;i!==null;){var a=i.f,o=(a&(Oe|Lt))!==0,l=o&&(a&H)!==0,u=l||(a&me)!==0||c(this,ke).has(i);if(!u&&i.fn!==null){o?i.f^=H:(a&Ht)!==0?r.push(i):hr(i)&&((a&lt)!==0&&c(this,Ve).add(i),Kt(i));var f=i.first;if(f!==null){i=f;continue}}for(;i!==null;){var m=i.next;if(m!==null){i=m;break}i=i.parent}}},sn=function(t){for(var r=0;r<t.length;r+=1)Cs(t[r],c(this,Nt),c(this,Ve))},an=function(){var a;if(Lr.size>1){this.previous.clear();var t=L,r=X,s=!0;for(const o of Lr){if(o===this){s=!1;continue}const l=[];for(const[f,m]of this.current){if(o.current.has(f))if(s&&m!==o.current.get(f))o.current.set(f,m);else continue;l.push(f)}if(l.length===0)continue;const u=[...o.current.keys()].filter(f=>!this.current.has(f));if(u.length>0){var i=le;le=[];const f=new Set,m=new Map;for(const g of l)Ms(g,u,f,m);if(le.length>0){L=o,o.apply();for(const g of le)Y(a=o,ce,nn).call(a,g,[],[]);o.deactivate()}le=i}}L=t,X=r}c(this,ke).clear(),Lr.delete(this)};let at=Ln;function Ca(e){var t=ar;ar=!0;try{for(var r;;){if(Pa(),le.length===0&&(L==null||L.flush(),le.length===0))return Nr=null,r;Ds()}}finally{ar=t}}function Ds(){var e=null;try{for(var t=0;le.length>0;){var r=at.ensure();if(t++>1e3){var s,i;Da()}r.process(le),ot.clear()}}finally{le=[],Nr=null,Bt=null}}function Da(){try{_a()}catch(e){rt(e,Nr)}}let Ue=null;function es(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var s=e[r++];if((s.f&(nt|me))===0&&hr(s)&&(Ue=new Set,Kt(s),s.deps===null&&s.first===null&&s.nodes===null&&s.teardown===null&&s.ac===null&&Hs(s),(Ue==null?void 0:Ue.size)>0)){ot.clear();for(const i of Ue){if((i.f&(nt|me))!==0)continue;const a=[i];let o=i.parent;for(;o!==null;)Ue.has(o)&&(Ue.delete(o),a.push(o)),o=o.parent;for(let l=a.length-1;l>=0;l--){const u=a[l];(u.f&(nt|me))===0&&Kt(u)}}Ue.clear()}}Ue=null}}function Ms(e,t,r,s){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const i of e.reactions){const a=i.f;(a&Q)!==0?Ms(i,t,r,s):(a&(gn|lt))!==0&&(a&V)===0&&xs(i,t,s)&&(G(i,V),Me(i))}}function xs(e,t,r){const s=r.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const i of e.deps){if(Gt.call(t,i))return!0;if((i.f&Q)!==0&&xs(i,t,r))return r.set(i,!0),!0}return r.set(e,!1),!1}function Me(e){var t=Nr=e,r=t.b;if(r!=null&&r.is_pending&&(e.f&(Ht|$t|ws))!==0&&(e.f&Wt)===0){r.defer_effect(e);return}for(;t.parent!==null;){t=t.parent;var s=t.f;if(Bt!==null&&t===I&&(e.f&$t)===0)return;if((s&(Lt|Oe))!==0){if((s&H)===0)return;t.f^=H}}le.push(t)}function Is(e,t){if(!((e.f&Oe)!==0&&(e.f&H)!==0)){(e.f&V)!==0?t.d.push(e):(e.f&Ie)!==0&&t.m.push(e),G(e,H);for(var r=e.first;r!==null;)Is(r,t),r=r.next}}function Ma(e){let t=0,r=At(0),s;return()=>{yn()&&(_(r),En(()=>(t===0&&(s=pr(()=>e(()=>or(r)))),t+=1,()=>{it(()=>{t-=1,t===0&&(s==null||s(),s=void 0,or(r))})})))}}var xa=jt|Zt;function Ia(e,t,r,s){new Oa(e,t,r,s)}var Ee,pn,qe,vt,oe,Fe,ve,Ce,He,gt,et,kt,qt,Ft,We,xr,z,Na,Ra,ka,on,Ur,Cr,ln;class Oa{constructor(t,r,s,i){M(this,z);Ne(this,"parent");Ne(this,"is_pending",!1);Ne(this,"transform_error");M(this,Ee);M(this,pn,null);M(this,qe);M(this,vt);M(this,oe);M(this,Fe,null);M(this,ve,null);M(this,Ce,null);M(this,He,null);M(this,gt,0);M(this,et,0);M(this,kt,!1);M(this,qt,new Set);M(this,Ft,new Set);M(this,We,null);M(this,xr,Ma(()=>(S(this,We,At(c(this,gt))),()=>{S(this,We,null)})));var a;S(this,Ee,t),S(this,qe,r),S(this,vt,o=>{var l=I;l.b=this,l.f|=Vr,s(o)}),this.parent=I.b,this.transform_error=i??((a=this.parent)==null?void 0:a.transform_error)??(o=>o),S(this,oe,bn(()=>{Y(this,z,on).call(this)},xa))}defer_effect(t){Cs(t,c(this,qt),c(this,Ft))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!c(this,qe).pending}update_pending_count(t){Y(this,z,ln).call(this,t),S(this,gt,c(this,gt)+t),!(!c(this,We)||c(this,kt))&&(S(this,kt,!0),it(()=>{S(this,kt,!1),c(this,We)&&zt(c(this,We),c(this,gt))}))}get_effect_pending(){return c(this,xr).call(this),_(c(this,We))}error(t){var r=c(this,qe).onerror;let s=c(this,qe).failed;if(!r&&!s)throw t;c(this,Fe)&&(ue(c(this,Fe)),S(this,Fe,null)),c(this,ve)&&(ue(c(this,ve)),S(this,ve,null)),c(this,Ce)&&(ue(c(this,Ce)),S(this,Ce,null));var i=!1,a=!1;const o=()=>{if(i){Aa();return}i=!0,a&&ga(),c(this,Ce)!==null&&yt(c(this,Ce),()=>{S(this,Ce,null)}),Y(this,z,Cr).call(this,()=>{at.ensure(),Y(this,z,on).call(this)})},l=u=>{try{a=!0,r==null||r(u,o),a=!1}catch(f){rt(f,c(this,oe)&&c(this,oe).parent)}s&&S(this,Ce,Y(this,z,Cr).call(this,()=>{at.ensure();try{return be(()=>{var f=I;f.b=this,f.f|=Vr,s(c(this,Ee),()=>u,()=>o)})}catch(f){return rt(f,c(this,oe).parent),null}}))};it(()=>{var u;try{u=this.transform_error(t)}catch(f){rt(f,c(this,oe)&&c(this,oe).parent);return}u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(l,f=>rt(f,c(this,oe)&&c(this,oe).parent)):l(u)})}}Ee=new WeakMap,pn=new WeakMap,qe=new WeakMap,vt=new WeakMap,oe=new WeakMap,Fe=new WeakMap,ve=new WeakMap,Ce=new WeakMap,He=new WeakMap,gt=new WeakMap,et=new WeakMap,kt=new WeakMap,qt=new WeakMap,Ft=new WeakMap,We=new WeakMap,xr=new WeakMap,z=new WeakSet,Na=function(){try{S(this,Fe,be(()=>c(this,vt).call(this,c(this,Ee))))}catch(t){this.error(t)}},Ra=function(t){const r=c(this,qe).failed;r&&S(this,Ce,be(()=>{r(c(this,Ee),()=>t,()=>()=>{})}))},ka=function(){const t=c(this,qe).pending;t&&(this.is_pending=!0,S(this,ve,be(()=>t(c(this,Ee)))),it(()=>{var r=S(this,He,document.createDocumentFragment()),s=wt();r.append(s),S(this,Fe,Y(this,z,Cr).call(this,()=>(at.ensure(),be(()=>c(this,vt).call(this,s))))),c(this,et)===0&&(c(this,Ee).before(r),S(this,He,null),yt(c(this,ve),()=>{S(this,ve,null)}),Y(this,z,Ur).call(this))}))},on=function(){try{if(this.is_pending=this.has_pending_snippet(),S(this,et,0),S(this,gt,0),S(this,Fe,be(()=>{c(this,vt).call(this,c(this,Ee))})),c(this,et)>0){var t=S(this,He,document.createDocumentFragment());Js(c(this,Fe),t);const r=c(this,qe).pending;S(this,ve,be(()=>r(c(this,Ee))))}else Y(this,z,Ur).call(this)}catch(r){this.error(r)}},Ur=function(){this.is_pending=!1;for(const t of c(this,qt))G(t,V),Me(t);for(const t of c(this,Ft))G(t,Ie),Me(t);c(this,qt).clear(),c(this,Ft).clear()},Cr=function(t){var r=I,s=D,i=$;$e(c(this,oe)),Le(c(this,oe)),Yt(c(this,oe).ctx);try{return t()}catch(a){return Ps(a),null}finally{$e(r),Le(s),Yt(i)}},ln=function(t){var r;if(!this.has_pending_snippet()){this.parent&&Y(r=this.parent,z,ln).call(r,t);return}S(this,et,c(this,et)+t),c(this,et)===0&&(Y(this,z,Ur).call(this),c(this,ve)&&yt(c(this,ve),()=>{S(this,ve,null)}),c(this,He)&&(c(this,Ee).before(c(this,He)),S(this,He,null)))};function qa(e,t,r,s){const i=dr()?Rr:Os;var a=e.filter(g=>!g.settled);if(r.length===0&&a.length===0){s(t.map(i));return}var o=I,l=Fa(),u=a.length===1?a[0].promise:a.length>1?Promise.all(a.map(g=>g.promise)):null;function f(g){l();try{s(g)}catch(w){(o.f&nt)===0&&rt(w,o)}fn()}if(r.length===0){u.then(()=>f(t.map(i)));return}function m(){l(),Promise.all(r.map(g=>$a(g))).then(g=>f([...t.map(i),...g])).catch(g=>rt(g,o))}u?u.then(m):m()}function Fa(){var e=I,t=D,r=$,s=L;return function(a=!0){$e(e),Le(t),Yt(r),a&&(s==null||s.activate())}}function fn(e=!0){$e(null),Le(null),Yt(null),e&&(L==null||L.deactivate())}function Ga(){var e=I.b,t=L,r=e.is_rendered();return e.update_pending_count(1),t.increment(r),()=>{e.update_pending_count(-1),t.decrement(r)}}function Rr(e){var t=Q|V,r=D!==null&&(D.f&Q)!==0?D:null;return I!==null&&(I.f|=Zt),{ctx:$,deps:null,effects:null,equals:bs,f:t,fn:e,reactions:null,rv:0,v:J,wv:0,parent:r??I,ac:null}}function $a(e,t,r){I===null&&la();var i=void 0,a=At(J),o=!D,l=new Map;return ro(()=>{var w;var u=ms();i=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).finally(fn)}catch(A){u.reject(A),fn()}var f=L;if(o){var m=Ga();(w=l.get(f))==null||w.reject(dt),l.delete(f),l.set(f,u)}const g=(A,h=void 0)=>{if(f.activate(),h)h!==dt&&(a.f|=st,zt(a,h));else{(a.f&st)!==0&&(a.f^=st),zt(a,A);for(const[U,C]of l){if(l.delete(U),U===f)break;C.reject(dt)}}m&&m()};u.promise.then(g,A=>g(null,A||"unknown"))}),Bs(()=>{for(const u of l.values())u.reject(dt)}),new Promise(u=>{function f(m){function g(){m===i?u(a):f(i)}m.then(g,g)}f(i)})}function zr(e){const t=Rr(e);return Xs(t),t}function Os(e){const t=Rr(e);return t.equals=As,t}function ja(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ue(t[r])}}function Ya(e){for(var t=e.parent;t!==null;){if((t.f&Q)===0)return(t.f&nt)===0?t:null;t=t.parent}return null}function wn(e){var t,r=I;$e(Ya(e));try{e.f&=~bt,ja(e),t=ti(e)}finally{$e(r)}return t}function Ns(e){var t=wn(e);if(!e.equals(t)&&(e.wv=Vs(),(!(L!=null&&L.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){G(e,H);return}St||(X!==null?(yn()||L!=null&&L.is_fork)&&X.set(e,t):mn(e))}function Ba(e){var t,r;if(e.effects!==null)for(const s of e.effects)(s.teardown||s.ac)&&((t=s.teardown)==null||t.call(s),(r=s.ac)==null||r.abort(dt),s.teardown=na,s.ac=null,lr(s,0),An(s))}function Rs(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&Kt(t)}let un=new Set;const ot=new Map;let ks=!1;function At(e,t){var r={f:0,v:e,reactions:null,equals:bs,rv:0,wv:0};return r}function Je(e,t){const r=At(e);return Xs(r),r}function B(e,t=!1,r=!0){var i;const s=At(e);return t||(s.equals=As),cr&&r&&$!==null&&$.l!==null&&((i=$.l).s??(i.s=[])).push(s),s}function E(e,t,r=!1){D!==null&&(!xe||(D.f&Vn)!==0)&&dr()&&(D.f&(Q|lt|gn|Vn))!==0&&(Se===null||!Gt.call(Se,e))&&va();let s=r?nr(t):t;return zt(e,s)}function zt(e,t){if(!e.equals(t)){var r=e.v;St?ot.set(e,t):ot.set(e,r),e.v=t;var s=at.ensure();if(s.capture(e,r),(e.f&Q)!==0){const i=e;(e.f&V)!==0&&wn(i),mn(i)}e.wv=Vs(),qs(e,V),dr()&&I!==null&&(I.f&H)!==0&&(I.f&(Oe|Lt))===0&&(ye===null?io([e]):ye.push(e)),!s.is_fork&&un.size>0&&!ks&&za()}return t}function za(){ks=!1;for(const e of un)(e.f&H)!==0&&G(e,Ie),hr(e)&&Kt(e);un.clear()}function or(e){E(e,e.v+1)}function qs(e,t){var r=e.reactions;if(r!==null)for(var s=dr(),i=r.length,a=0;a<i;a++){var o=r[a],l=o.f;if(!(!s&&o===I)){var u=(l&V)===0;if(u&&G(o,t),(l&Q)!==0){var f=o;X==null||X.delete(f),(l&bt)===0&&(l&Ae&&(o.f|=bt),qs(f,Ie))}else u&&((l&lt)!==0&&Ue!==null&&Ue.add(o),Me(o))}}}function nr(e){if(typeof e!="object"||e===null||Mt in e)return e;const t=vn(e);if(t!==ta&&t!==ra)return e;var r=new Map,s=vs(e),i=Je(0),a=Et,o=l=>{if(Et===a)return l();var u=D,f=Et;Le(null),ss(a);var m=l();return Le(u),ss(f),m};return s&&r.set("length",Je(e.length)),new Proxy(e,{defineProperty(l,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&ha();var m=r.get(u);return m===void 0?o(()=>{var g=Je(f.value);return r.set(u,g),g}):E(m,f.value,!0),!0},deleteProperty(l,u){var f=r.get(u);if(f===void 0){if(u in l){const m=o(()=>Je(J));r.set(u,m),or(i)}}else E(f,J),or(i);return!0},get(l,u,f){var A;if(u===Mt)return e;var m=r.get(u),g=u in l;if(m===void 0&&(!g||(A=ir(l,u))!=null&&A.writable)&&(m=o(()=>{var h=nr(g?l[u]:J),U=Je(h);return U}),r.set(u,m)),m!==void 0){var w=_(m);return w===J?void 0:w}return Reflect.get(l,u,f)},getOwnPropertyDescriptor(l,u){var f=Reflect.getOwnPropertyDescriptor(l,u);if(f&&"value"in f){var m=r.get(u);m&&(f.value=_(m))}else if(f===void 0){var g=r.get(u),w=g==null?void 0:g.v;if(g!==void 0&&w!==J)return{enumerable:!0,configurable:!0,value:w,writable:!0}}return f},has(l,u){var w;if(u===Mt)return!0;var f=r.get(u),m=f!==void 0&&f.v!==J||Reflect.has(l,u);if(f!==void 0||I!==null&&(!m||(w=ir(l,u))!=null&&w.writable)){f===void 0&&(f=o(()=>{var A=m?nr(l[u]):J,h=Je(A);return h}),r.set(u,f));var g=_(f);if(g===J)return!1}return m},set(l,u,f,m){var te;var g=r.get(u),w=u in l;if(s&&u==="length")for(var A=f;A<g.v;A+=1){var h=r.get(A+"");h!==void 0?E(h,J):A in l&&(h=o(()=>Je(J)),r.set(A+"",h))}if(g===void 0)(!w||(te=ir(l,u))!=null&&te.writable)&&(g=o(()=>Je(void 0)),E(g,nr(f)),r.set(u,g));else{w=g.v!==J;var U=o(()=>nr(f));E(g,U)}var C=Reflect.getOwnPropertyDescriptor(l,u);if(C!=null&&C.set&&C.set.call(m,f),!w){if(s&&typeof u=="string"){var R=r.get("length"),k=Number(u);Number.isInteger(k)&&k>=R.v&&E(R,k+1)}or(i)}return!0},ownKeys(l){_(i);var u=Reflect.ownKeys(l).filter(g=>{var w=r.get(g);return w===void 0||w.v!==J});for(var[f,m]of r)m.v!==J&&!(f in l)&&u.push(f);return u},setPrototypeOf(){pa()}})}var ts,Fs,Gs,$s;function Ka(){if(ts===void 0){ts=window,Fs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Gs=ir(t,"firstChild").get,$s=ir(t,"nextSibling").get,Qn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Qn(r)&&(r.__t=void 0)}}function wt(e=""){return document.createTextNode(e)}function Mr(e){return Gs.call(e)}function _r(e){return $s.call(e)}function y(e,t){return Mr(e)}function Ha(e,t=!1){{var r=Mr(e);return r instanceof Comment&&r.data===""?_r(r):r}}function x(e,t=1,r=!1){let s=e;for(;t--;)s=_r(s);return s}function Wa(e){e.textContent=""}function js(){return!1}function Za(e,t,r){return document.createElementNS(Es,e,void 0)}let rs=!1;function Ja(){rs||(rs=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function kr(e){var t=D,r=I;Le(null),$e(null);try{return e()}finally{Le(t),$e(r)}}function Xa(e,t,r,s=r){e.addEventListener(t,()=>kr(r));const i=e.__on_r;i?e.__on_r=()=>{i(),s(!0)}:e.__on_r=()=>s(!0),Ja()}function Ys(e){I===null&&(D===null&&da(),ca()),St&&ua()}function Qa(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function je(e,t){var r=I;r!==null&&(r.f&me)!==0&&(e|=me);var s={ctx:$,deps:null,nodes:null,f:e|V|Ae,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null},i=s;if((e&Ht)!==0)Bt!==null?Bt.push(s):Me(s);else if(t!==null){try{Kt(s)}catch(o){throw ue(s),o}i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Zt)===0&&(i=i.first,(e&lt)!==0&&(e&jt)!==0&&i!==null&&(i.f|=jt))}if(i!==null&&(i.parent=r,r!==null&&Qa(i,r),D!==null&&(D.f&Q)!==0&&(e&Lt)===0)){var a=D;(a.effects??(a.effects=[])).push(i)}return s}function yn(){return D!==null&&!xe}function Bs(e){const t=je($t,null);return G(t,H),t.teardown=e,t}function cn(e){Ys();var t=I.f,r=!D&&(t&Oe)!==0&&(t&Wt)===0;if(r){var s=$;(s.e??(s.e=[])).push(e)}else return zs(e)}function zs(e){return je(Ht|ys,e)}function Va(e){return Ys(),je($t|ys,e)}function eo(e){at.ensure();const t=je(Lt|Zt,e);return(r={})=>new Promise(s=>{r.outro?yt(t,()=>{ue(t),s(void 0)}):(ue(t),s(void 0))})}function to(e){return je(Ht,e)}function ro(e){return je(gn|Zt,e)}function En(e,t=0){return je($t|t,e)}function re(e,t=[],r=[],s=[]){qa(s,t,r,i=>{je($t,()=>e(...i.map(_)))})}function bn(e,t=0){var r=je(lt|t,e);return r}function be(e){return je(Oe|Zt,e)}function Ks(e){var t=e.teardown;if(t!==null){const r=St,s=D;ns(!0),Le(null);try{t.call(null)}finally{ns(r),Le(s)}}}function An(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const i=r.ac;i!==null&&kr(()=>{i.abort(dt)});var s=r.next;(r.f&Lt)!==0?r.parent=null:ue(r,t),r=s}}function no(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Oe)===0&&ue(t),t=r}}function ue(e,t=!0){var r=!1;(t||(e.f&ia)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(so(e.nodes.start,e.nodes.end),r=!0),An(e,t&&!r),lr(e,0),G(e,nt);var s=e.nodes&&e.nodes.t;if(s!==null)for(const a of s)a.stop();Ks(e);var i=e.parent;i!==null&&i.first!==null&&Hs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function so(e,t){for(;e!==null;){var r=e===t?null:_r(e);e.remove(),e=r}}function Hs(e){var t=e.parent,r=e.prev,s=e.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=r))}function yt(e,t,r=!0){var s=[];Ws(e,s,!0);var i=()=>{r&&ue(e),t&&t()},a=s.length;if(a>0){var o=()=>--a||i();for(var l of s)l.out(o)}else i()}function Ws(e,t,r){if((e.f&me)===0){e.f^=me;var s=e.nodes&&e.nodes.t;if(s!==null)for(const l of s)(l.is_global||r)&&t.push(l);for(var i=e.first;i!==null;){var a=i.next,o=(i.f&jt)!==0||(i.f&Oe)!==0&&(e.f&lt)!==0;Ws(i,t,o?r:!1),i=a}}}function Sn(e){Zs(e,!0)}function Zs(e,t){if((e.f&me)!==0){e.f^=me,(e.f&H)===0&&(G(e,V),Me(e));for(var r=e.first;r!==null;){var s=r.next,i=(r.f&jt)!==0||(r.f&Oe)!==0;Zs(r,i?t:!1),r=s}var a=e.nodes&&e.nodes.t;if(a!==null)for(const o of a)(o.is_global||t)&&o.in()}}function Js(e,t){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end;r!==null;){var i=r===s?null:_r(r);t.append(r),r=i}}let Dr=!1,St=!1;function ns(e){St=e}let D=null,xe=!1;function Le(e){D=e}let I=null;function $e(e){I=e}let Se=null;function Xs(e){D!==null&&(Se===null?Se=[e]:Se.push(e))}let fe=null,pe=0,ye=null;function io(e){ye=e}let Qs=1,ht=0,Et=ht;function ss(e){Et=e}function Vs(){return++Qs}function hr(e){var t=e.f;if((t&V)!==0)return!0;if(t&Q&&(e.f&=~bt),(t&Ie)!==0){for(var r=e.deps,s=r.length,i=0;i<s;i++){var a=r[i];if(hr(a)&&Ns(a),a.wv>e.wv)return!0}(t&Ae)!==0&&X===null&&G(e,H)}return!1}function ei(e,t,r=!0){var s=e.reactions;if(s!==null&&!(Se!==null&&Gt.call(Se,e)))for(var i=0;i<s.length;i++){var a=s[i];(a.f&Q)!==0?ei(a,t,!1):t===a&&(r?G(a,V):(a.f&H)!==0&&G(a,Ie),Me(a))}}function ti(e){var U;var t=fe,r=pe,s=ye,i=D,a=Se,o=$,l=xe,u=Et,f=e.f;fe=null,pe=0,ye=null,D=(f&(Oe|Lt))===0?e:null,Se=null,Yt(e.ctx),xe=!1,Et=++ht,e.ac!==null&&(kr(()=>{e.ac.abort(dt)}),e.ac=null);try{e.f|=en;var m=e.fn,g=m();e.f|=Wt;var w=e.deps,A=L==null?void 0:L.is_fork;if(fe!==null){var h;if(A||lr(e,pe),w!==null&&pe>0)for(w.length=pe+fe.length,h=0;h<fe.length;h++)w[pe+h]=fe[h];else e.deps=w=fe;if(yn()&&(e.f&Ae)!==0)for(h=pe;h<w.length;h++)((U=w[h]).reactions??(U.reactions=[])).push(e)}else!A&&w!==null&&pe<w.length&&(lr(e,pe),w.length=pe);if(dr()&&ye!==null&&!xe&&w!==null&&(e.f&(Q|Ie|V))===0)for(h=0;h<ye.length;h++)ei(ye[h],e);if(i!==null&&i!==e){if(ht++,i.deps!==null)for(let C=0;C<r;C+=1)i.deps[C].rv=ht;if(t!==null)for(const C of t)C.rv=ht;ye!==null&&(s===null?s=ye:s.push(...ye))}return(e.f&st)!==0&&(e.f^=st),g}catch(C){return Ps(C)}finally{e.f^=en,fe=t,pe=r,ye=s,D=i,Se=a,Yt(o),xe=l,Et=u}}function ao(e,t){let r=t.reactions;if(r!==null){var s=Vi.call(r,e);if(s!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[s]=r[i],r.pop())}}if(r===null&&(t.f&Q)!==0&&(fe===null||!Gt.call(fe,t))){var a=t;(a.f&Ae)!==0&&(a.f^=Ae,a.f&=~bt),mn(a),Ba(a),lr(a,0)}}function lr(e,t){var r=e.deps;if(r!==null)for(var s=t;s<r.length;s++)ao(e,r[s])}function Kt(e){var t=e.f;if((t&nt)===0){G(e,H);var r=I,s=Dr;I=e,Dr=!0;try{(t&(lt|ws))!==0?no(e):An(e),Ks(e);var i=ti(e);e.teardown=typeof i=="function"?i:null,e.wv=Qs;var a;Xr&&La&&(e.f&V)!==0&&e.deps}finally{Dr=s,I=r}}}async function oo(){await Promise.resolve(),Ca()}function _(e){var t=e.f,r=(t&Q)!==0;if(D!==null&&!xe){var s=I!==null&&(I.f&nt)!==0;if(!s&&(Se===null||!Gt.call(Se,e))){var i=D.deps;if((D.f&en)!==0)e.rv<ht&&(e.rv=ht,fe===null&&i!==null&&i[pe]===e?pe++:fe===null?fe=[e]:fe.push(e));else{(D.deps??(D.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[D]:Gt.call(a,D)||a.push(D)}}}if(St&&ot.has(e))return ot.get(e);if(r){var o=e;if(St){var l=o.v;return((o.f&H)===0&&o.reactions!==null||ni(o))&&(l=wn(o)),ot.set(o,l),l}var u=(o.f&Ae)===0&&!xe&&D!==null&&(Dr||(D.f&Ae)!==0),f=(o.f&Wt)===0;hr(o)&&(u&&(o.f|=Ae),Ns(o)),u&&!f&&(Rs(o),ri(o))}if(X!=null&&X.has(e))return X.get(e);if((e.f&st)!==0)throw e.v;return e.v}function ri(e){if(e.f|=Ae,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&Q)!==0&&(t.f&Ae)===0&&(Rs(t),ri(t))}function ni(e){if(e.v===J)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ot.has(t)||(t.f&Q)!==0&&ni(t))return!0;return!1}function pr(e){var t=xe;try{return xe=!0,e()}finally{xe=t}}function lo(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Mt in e)dn(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Mt in r&&dn(r)}}}function dn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let s in e)try{dn(e[s],t)}catch{}const r=vn(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const s=gs(r);for(let i in s){const a=s[i].get;if(a)try{a.call(e)}catch{}}}}}const fo=["touchstart","touchmove"];function uo(e){return fo.includes(e)}const Tr=Symbol("events"),co=new Set,is=new Set;function _o(e,t,r,s={}){function i(a){if(s.capture||_n.call(t,a),!a.cancelBubble)return kr(()=>r==null?void 0:r.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?it(()=>{t.addEventListener(e,i,s)}):t.addEventListener(e,i,s),i}function Ke(e,t,r,s,i){var a={capture:s,passive:i},o=_o(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Bs(()=>{t.removeEventListener(e,o,a)})}let as=null;function _n(e){var C,R;var t=this,r=t.ownerDocument,s=e.type,i=((C=e.composedPath)==null?void 0:C.call(e))||[],a=i[0]||e.target;as=e;var o=0,l=as===e&&e[Tr];if(l){var u=i.indexOf(l);if(u!==-1&&(t===document||t===window)){e[Tr]=t;return}var f=i.indexOf(t);if(f===-1)return;u<=f&&(o=u)}if(a=i[o]||e.target,a!==t){ea(e,"currentTarget",{configurable:!0,get(){return a||r}});var m=D,g=I;Le(null),$e(null);try{for(var w,A=[];a!==null;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var U=(R=a[Tr])==null?void 0:R[s];U!=null&&(!a.disabled||e.target===a)&&U.call(a,e)}catch(k){w?A.push(k):w=k}if(e.cancelBubble||h===t||h===null)break;a=h}if(w){for(let k of A)queueMicrotask(()=>{throw k});throw w}}finally{e[Tr]=t,delete e.currentTarget,Le(m),$e(g)}}}var hs;const Kr=((hs=globalThis==null?void 0:globalThis.window)==null?void 0:hs.trustedTypes)&&globalThis.window.trustedTypes.createPolicy("svelte-trusted-html",{createHTML:e=>e});function ho(e){return(Kr==null?void 0:Kr.createHTML(e))??e}function po(e){var t=Za("template");return t.innerHTML=ho(e.replaceAll("<!>","<!---->")),t.content}function os(e,t){var r=I;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function ee(e,t){var r=(t&Ea)!==0,s=(t&ba)!==0,i,a=!e.startsWith("<!>");return()=>{i===void 0&&(i=po(a?e:"<!>"+e),r||(i=Mr(i)));var o=s||Fs?document.importNode(i,!0):i.cloneNode(!0);if(r){var l=Mr(o),u=o.lastChild;os(l,u)}else os(o,o);return o}}function Z(e,t){e!==null&&e.before(t)}function N(e,t){var r=t==null?"":typeof t=="object"?`${t}`:t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=`${r}`)}function vo(e,t){return go(e,t)}const Pr=new Map;function go(e,{target:t,anchor:r,props:s={},events:i,context:a,intro:o=!0,transformError:l}){Ka();var u=void 0,f=eo(()=>{var m=r??t.appendChild(wt());Ia(m,{pending:()=>{}},A=>{Ss({});var h=$;a&&(h.c=a),i&&(s.$$events=i),u=e(A,s)||{},Ls()},l);var g=new Set,w=A=>{for(var h=0;h<A.length;h++){var U=A[h];if(!g.has(U)){g.add(U);var C=uo(U);for(const te of[t,document]){var R=Pr.get(te);R===void 0&&(R=new Map,Pr.set(te,R));var k=R.get(U);k===void 0?(te.addEventListener(U,_n,{passive:C}),R.set(U,1)):R.set(U,k+1)}}}};return w(Or(co)),is.add(w),()=>{var C;for(var A of g)for(const R of[t,document]){var h=Pr.get(R),U=h.get(A);--U==0?(R.removeEventListener(A,_n),h.delete(A),h.size===0&&Pr.delete(R)):h.set(A,U)}is.delete(w),m!==r&&((C=m.parentNode)==null||C.removeChild(m))}});return mo.set(u,f),u}let mo=new WeakMap;var De,Ge,ge,mt,fr,ur,Ir;class wo{constructor(t,r=!0){Ne(this,"anchor");M(this,De,new Map);M(this,Ge,new Map);M(this,ge,new Map);M(this,mt,new Set);M(this,fr,!0);M(this,ur,t=>{if(c(this,De).has(t)){var r=c(this,De).get(t),s=c(this,Ge).get(r);if(s)Sn(s),c(this,mt).delete(r);else{var i=c(this,ge).get(r);i&&(c(this,Ge).set(r,i.effect),c(this,ge).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),s=i.effect)}for(const[a,o]of c(this,De)){if(c(this,De).delete(a),a===t)break;const l=c(this,ge).get(o);l&&(ue(l.effect),c(this,ge).delete(o))}for(const[a,o]of c(this,Ge)){if(a===r||c(this,mt).has(a))continue;const l=()=>{if(Array.from(c(this,De).values()).includes(a)){var f=document.createDocumentFragment();Js(o,f),f.append(wt()),c(this,ge).set(a,{effect:o,fragment:f})}else ue(o);c(this,mt).delete(a),c(this,Ge).delete(a)};c(this,fr)||!s?(c(this,mt).add(a),yt(o,l,!1)):l()}}});M(this,Ir,t=>{c(this,De).delete(t);const r=Array.from(c(this,De).values());for(const[s,i]of c(this,ge))r.includes(s)||(ue(i.effect),c(this,ge).delete(s))});this.anchor=t,S(this,fr,r)}ensure(t,r){var s=L,i=js();if(r&&!c(this,Ge).has(t)&&!c(this,ge).has(t))if(i){var a=document.createDocumentFragment(),o=wt();a.append(o),c(this,ge).set(t,{effect:be(()=>r(o)),fragment:a})}else c(this,Ge).set(t,be(()=>r(this.anchor)));if(c(this,De).set(s,t),i){for(const[l,u]of c(this,Ge))l===t?s.unskip_effect(u):s.skip_effect(u);for(const[l,u]of c(this,ge))l===t?s.unskip_effect(u.effect):s.skip_effect(u.effect);s.oncommit(c(this,ur)),s.ondiscard(c(this,Ir))}else c(this,ur).call(this,s)}}De=new WeakMap,Ge=new WeakMap,ge=new WeakMap,mt=new WeakMap,fr=new WeakMap,ur=new WeakMap,Ir=new WeakMap;function Re(e,t,r=!1){var s=new wo(e),i=r?jt:0;function a(o,l){s.ensure(o,l)}bn(()=>{var o=!1;t((l,u=0)=>{o=!0,a(u,l)}),o||a(!1,null)},i)}function Hr(e,t){return t}function yo(e,t,r){for(var s=[],i=t.length,a,o=t.length,l=0;l<i;l++){let g=t[l];yt(g,()=>{if(a){if(a.pending.delete(g),a.done.add(g),a.pending.size===0){var w=e.outrogroups;hn(Or(a.done)),w.delete(a),w.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var u=s.length===0&&r!==null;if(u){var f=r,m=f.parentNode;Wa(m),m.append(f),e.items.clear()}hn(t,!u)}else a={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(a)}function hn(e,t=!0){for(var r=0;r<e.length;r++)ue(e[r],t)}var ls;function Wr(e,t,r,s,i,a=null){var o=e,l=new Map;{var u=e;o=u.appendChild(wt())}var f=null,m=Os(()=>{var C=r();return vs(C)?C:C==null?[]:Or(C)}),g,w=!0;function A(){U.fallback=f,Eo(U,g,o,t,s),f!==null&&(g.length===0?(f.f&tt)===0?Sn(f):(f.f^=tt,sr(f,null,o)):yt(f,()=>{f=null}))}var h=bn(()=>{g=_(m);for(var C=g.length,R=new Set,k=L,te=js(),ne=0;ne<C;ne+=1){var we=g[ne],Ye=s(we,ne),F=w?null:l.get(Ye);F?(F.v&&zt(F.v,we),F.i&&zt(F.i,ne),te&&k.unskip_effect(F.e)):(F=bo(l,w?o:ls??(ls=wt()),we,Ye,ne,i,t,r),w||(F.e.f|=tt),l.set(Ye,F)),R.add(Ye)}if(C===0&&a&&!f&&(w?f=be(()=>a(o)):(f=be(()=>a(ls??(ls=wt()))),f.f|=tt)),C>R.size&&fa(),!w)if(te){for(const[Be,se]of l)R.has(Be)||k.skip_effect(se.e);k.oncommit(A),k.ondiscard(()=>{})}else A();_(m)}),U={effect:h,items:l,outrogroups:null,fallback:f};w=!1}function rr(e){for(;e!==null&&(e.f&Oe)===0;)e=e.next;return e}function Eo(e,t,r,s,i){var Be;var a=t.length,o=e.items,l=rr(e.effect.first),u,f=null,m=[],g=[],w,A,h,U;for(U=0;U<a;U+=1){if(w=t[U],A=i(w,U),h=o.get(A).e,e.outrogroups!==null)for(const se of e.outrogroups)se.pending.delete(h),se.done.delete(h);if((h.f&tt)!==0)if(h.f^=tt,h===l)sr(h,null,r);else{var C=f?f.next:l;h===e.effect.last&&(e.effect.last=h.prev),h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),Xe(e,f,h),Xe(e,h,C),sr(h,C,r),f=h,m=[],g=[],l=rr(f.next);continue}if((h.f&me)!==0&&Sn(h),h!==l){if(u!==void 0&&u.has(h)){if(m.length<g.length){var R=g[0],k;f=R.prev;var te=m[0],ne=m[m.length-1];for(k=0;k<m.length;k+=1)sr(m[k],R,r);for(k=0;k<g.length;k+=1)u.delete(g[k]);Xe(e,te.prev,ne.next),Xe(e,f,te),Xe(e,ne,R),l=R,f=ne,U-=1,m=[],g=[]}else u.delete(h),sr(h,l,r),Xe(e,h.prev,h.next),Xe(e,h,f===null?e.effect.first:f.next),Xe(e,f,h),f=h;continue}for(m=[],g=[];l!==null&&l!==h;)(u??(u=new Set)).add(l),g.push(l),l=rr(l.next);if(l===null)continue}(h.f&tt)===0&&m.push(h),f=h,l=rr(h.next)}if(e.outrogroups!==null){for(const se of e.outrogroups)se.pending.size===0&&(hn(Or(se.done)),(Be=e.outrogroups)==null||Be.delete(se));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||u!==void 0){var we=[];if(u!==void 0)for(h of u)(h.f&me)===0&&we.push(h);for(;l!==null;)(l.f&me)===0&&l!==e.fallback&&we.push(l),l=rr(l.next);var Ye=we.length;if(Ye>0){var F=a===0?r:null;yo(e,we,F)}}}function bo(e,t,r,s,i,a,o,l){var u=(o&ma)!==0?(o&ya)===0?B(r,!1,!1):At(r):null,f=(o&wa)!==0?At(i):null;return{v:u,i:f,e:be(()=>(a(t,u??r,f??i,l),()=>{e.delete(s)}))}}function sr(e,t,r){if(e.nodes)for(var s=e.nodes.start,i=e.nodes.end,a=t&&(t.f&tt)===0?t.nodes.start:r;s!==null;){var o=_r(s);if(a.before(s),s===i)return;s=o}}function Xe(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const fs=[...` 	
\r\f \v\uFEFF`];function Ao(e,t,r){var s=""+e;if(r){for(var i of Object.keys(r))if(r[i])s=s?s+" "+i:i;else if(s.length)for(var a=i.length,o=0;(o=s.indexOf(i,o))>=0;){var l=o+a;(o===0||fs.includes(s[o-1]))&&(l===s.length||fs.includes(s[l]))?s=(o===0?"":s.substring(0,o))+s.substring(l+1):o=l}}return s===""?null:s}function So(e,t,r,s,i,a){var o=e.__className;if(o!==r||o===void 0){var l=Ao(r,s,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=r}else if(a&&i!==a)for(var u in a){var f=!!a[u];(i==null||f!==!!i[u])&&e.classList.toggle(u,f)}return a}const Lo=Symbol("is custom element"),To=Symbol("is html");function ae(e,t,r,s){var i=Po(e);i[t]!==(i[t]=r)&&(t==="loading"&&(e[aa]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Uo(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Po(e){return e.__attributes??(e.__attributes={[Lo]:e.nodeName.includes("-"),[To]:e.namespaceURI===Es})}var us=new Map;function Uo(e){var t=e.getAttribute("is")||e.nodeName,r=us.get(t);if(r)return r;us.set(t,r=[]);for(var s,i=e,a=Element.prototype;a!==i;){s=gs(i);for(var o in s)s[o].set&&r.push(o);i=vn(i)}return r}function cs(e,t,r=t){var s=new WeakSet;Xa(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=Zr(e)?Jr(a):a,r(a),L!==null&&s.add(L),await oo(),a!==(a=t())){var o=e.selectionStart,l=e.selectionEnd,u=e.value.length;if(e.value=a??"",l!==null){var f=e.value.length;o===l&&l===u&&f>u?(e.selectionStart=f,e.selectionEnd=f):(e.selectionStart=o,e.selectionEnd=Math.min(l,f))}}}),pr(t)==null&&e.value&&(r(Zr(e)?Jr(e.value):e.value),L!==null&&s.add(L)),En(()=>{var i=t();if(e===document.activeElement){var a=tn??L;if(s.has(a))return}Zr(e)&&i===Jr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Zr(e){var t=e.type;return t==="number"||t==="range"}function Jr(e){return e===""?null:+e}function ds(e,t){return e===t||(e==null?void 0:e[Mt])===t}function Co(e={},t,r,s){return to(()=>{var i,a;return En(()=>{i=a,a=[],pr(()=>{e!==r(...a)&&(t(e,...a),i&&ds(r(...i),e)&&t(null,...i))})}),()=>{it(()=>{a&&ds(r(...a),e)&&t(null,...a)})}}),e}function Do(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function Mo(e=!1){const t=$,r=t.l.u;if(!r)return;let s=()=>lo(t.s);if(e){let i=0,a={};const o=Rr(()=>{let l=!1;const u=t.s;for(const f in u)u[f]!==a[f]&&(a[f]=u[f],l=!0);return l&&i++,i});s=()=>_(o)}r.b.length&&Va(()=>{_s(t,s),Qr(r.b)}),cn(()=>{const i=pr(()=>r.m.map(sa));return()=>{for(const a of i)typeof a=="function"&&a()}}),r.a.length&&cn(()=>{_s(t,s),Qr(r.a)})}function _s(e,t){if(e.l.s)for(const r of e.l.s)_(r);t()}function xo(e){$===null&&oa(),cr&&$.l!==null?Io($).m.push(e):cn(()=>{const t=pr(e);if(typeof t=="function")return t})}function Io(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Oo="5";var ps;typeof window<"u"&&((ps=window.__svelte??(window.__svelte={})).v??(ps.v=new Set)).add(Oo);Ta();const No=`# Postcard App Config (.md)

Update values below to change app behavior.

API_BASE_URL: https://dayojohn19.pythonanywhere.com/garden/look/
UPLOAD_API_URL: https://dayojohn19.pythonanywhere.com/garden/upload_images/
UPLOAD_IMAGE_FIELD:
API_USERNAME:
API_USER_ID:
LOCAL_STORAGE_USERNAME_KEY: postcard_username
LOCAL_STORAGE_USER_ID_KEY: postcard_user_id
LOADING_DELAY_MS: 500
MAIN_IMAGE_URL: https://placehold.co/960x540/png
COLLECTION_1_URL: https://placehold.co/640x400/png?text=Postcard+1
COLLECTION_2_URL: https://placehold.co/640x400/png?text=Postcard+2
COLLECTION_3_URL: https://placehold.co/640x400/png?text=Postcard+3
COLLECTION_4_URL: https://placehold.co/640x400/png?text=Postcard+4

Functions used:
- fetchLookPlaceData()
- getPostcardMemories()
- formatCollectedDate(value)
- uploadImages(files)
- handleUploadSelection(event)

Behavior:
- On app load, it checks localStorage for username and userID.
- If saved values exist, they are used automatically for fetch and upload requests.
- If no saved values exist, a credentials form is shown first.
- \`collectionUniqueID\` is auto-derived from the last segment of \`API_BASE_URL\`.
`;var Ro=ee('<button type="button"> </button>'),ko=ee('<p class="credentials-error svelte-1n46o8q"> </p>'),qo=ee('<div class="credentials-box svelte-1n46o8q" aria-live="polite"><h3 class="svelte-1n46o8q"> </h3> <form class="credentials-form svelte-1n46o8q"><label class="svelte-1n46o8q"> <input type="text" class="svelte-1n46o8q"/></label> <label class="svelte-1n46o8q"> <input type="text" class="svelte-1n46o8q"/></label> <!> <button class="cta svelte-1n46o8q" type="submit"> </button></form></div>'),Fo=ee('<div class="loading-state svelte-1n46o8q"><span class="spinner svelte-1n46o8q" aria-hidden="true"></span> <span> </span></div>'),Go=ee('<button class="cta svelte-1n46o8q" type="button"> </button>'),$o=ee('<div class="hero-actions svelte-1n46o8q"><!> <input id="modalMultiImageUpload" class="upload-input svelte-1n46o8q" type="file" name="images" accept="image/*" multiple="" required=""/> <input id="modalImageField" class="image-field-input svelte-1n46o8q" type="text" name="imageField"/></div>'),jo=ee('<p class="upload-status svelte-1n46o8q"> </p>'),Yo=ee('<img id="scanned-postcard" class="svelte-1n46o8q"/> <div class="postcard-meta svelte-1n46o8q" id="scanned-postcard-meta"><h3 class="svelte-1n46o8q"> </h3> <p class="subtitle svelte-1n46o8q"> </p> <div class="meta-grid svelte-1n46o8q"><p class="svelte-1n46o8q"><span class="svelte-1n46o8q"> </span> </p> <p class="svelte-1n46o8q"><span class="svelte-1n46o8q"> </span> </p> <p class="svelte-1n46o8q"><span class="svelte-1n46o8q"> </span> </p></div> <!> <!></div>',1),Bo=ee('<div class="postcard-frame svelte-1n46o8q" aria-live="polite"><!></div>'),zo=ee('<button class="image-trigger svelte-1n46o8q" type="button"><img class="memory-image svelte-1n46o8q"/></button>'),Ko=ee("<span> </span>"),Ho=ee('<article class="memory-card svelte-1n46o8q"><!> <h3 class="svelte-1n46o8q"> </h3> <p class="memory-meta svelte-1n46o8q"><!></p></article>'),Wo=ee('<div class="memory-grid svelte-1n46o8q"></div>'),Zo=ee('<p class="memory-empty svelte-1n46o8q"> </p>'),Jo=ee('<article class="card svelte-1n46o8q"><button class="image-trigger svelte-1n46o8q" type="button"><img class="collection-image svelte-1n46o8q"/></button> <h2 class="svelte-1n46o8q"> </h2> <p> </p></article>'),Xo=ee('<button class="image-lightbox svelte-1n46o8q" type="button"><img class="lightbox-image svelte-1n46o8q"/></button>'),Qo=ee('<div class="page svelte-1n46o8q"><header class="topbar svelte-1n46o8q"><div class="brand svelte-1n46o8q"> </div> <div class="account-chip svelte-1n46o8q" aria-live="polite"><span class="svelte-1n46o8q"> </span> <div class="lang-switch svelte-1n46o8q" role="group" aria-label="Language selector"></div> <button class="theme-toggle svelte-1n46o8q" type="button"> </button></div></header> <section class="hero svelte-1n46o8q"><p class="eyebrow svelte-1n46o8q"> </p> <p class="subtext svelte-1n46o8q"> </p> <!></section> <section class="collection-memory svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <!></section> <h2 class="grid-title svelte-1n46o8q"> </h2> <section class="grid svelte-1n46o8q"></section> <!></div>');function Vo(e,t){Ss(t,!1);function r(n,d){var b;const p=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),v=No.match(new RegExp(`^${p}:\\s*(.+)$`,"m"));return((b=v==null?void 0:v[1])==null?void 0:b.trim())||d}function s(n){const d=String(n??"").trim().replace(/\/+$/,"");if(!d)return"";const p=d.split("/");return p[p.length-2]==="look"&&p.pop(),`${p.join("/")}/`}function i(n,d="11111"){const p=String(n??"").trim().replace(/\/+$/,"");if(!p)return d;const v=p.split("/"),b=v[v.length-1]||"";return v[v.length-2]==="look"?b:d}const a=r("API_BASE_URL","http://127.0.0.1:8000/garden/look/ZN6RF9/"),o=r("UPLOAD_API_URL","http://127.0.0.1:8000/apis/upload_to_imbb/"),l=r("UPLOAD_IMAGE_FIELD",""),u=r("API_USERNAME",""),f=r("API_USER_ID",""),m=r("LOCAL_STORAGE_USERNAME_KEY","postcard_username"),g=r("LOCAL_STORAGE_USER_ID_KEY","postcard_user_id"),w=r("LOCAL_STORAGE_THEME_KEY","postcard_theme"),A=r("LOCAL_STORAGE_LANGUAGE_KEY","postcard_language"),h=s(a),U=i(a,"11111"),C=Number(r("LOADING_DELAY_MS","1500"))||1500,R=r("MAIN_IMAGE_URL","https://placehold.co/960x540/png"),k=[r("COLLECTION_1_URL","https://placehold.co/640x400/png?text=Postcard+1"),r("COLLECTION_2_URL","https://placehold.co/640x400/png?text=Postcard+2"),r("COLLECTION_3_URL","https://placehold.co/640x400/png?text=Postcard+3"),r("COLLECTION_4_URL","https://placehold.co/640x400/png?text=Postcard+4")],te="postcard_memory_prompt_index",ne={en:["The memory I'll always keep from here is _____.","I'll never forget this place because _____.","This place will always remind me of _____.","When I think of this place, I remember _____.","What made this place unforgettable was _____.","The moment that stayed with me here was _____.","This place meant so much to me because _____.","One thing I'll never forget about this place is _____."],ko:["이곳에서 가장 오래 기억에 남을 순간은 _____.","이곳을 절대 잊지 못할 이유는 _____.","이곳은 늘 _____를 떠올리게 해요.","이곳을 생각하면 _____가 기억나요.","이곳을 잊을 수 없게 만든 건 _____.","여기서 가장 마음에 남은 순간은 _____.","이곳이 특별했던 이유는 _____.","이곳에서 절대 잊지 못할 한 가지는 _____."],zh:["我会一直记得这里的回忆是 _____.","我永远不会忘记这里，因为 _____.","这个地方总会让我想起 _____.","当我想到这里时，我会想起 _____.","让这个地方难忘的是 _____.","在这里最难忘的瞬间是 _____.","这个地方对我意义重大，因为 _____.","关于这个地方，我最不会忘记的是 _____."]},we={en:{brandTitle:"Garden Home Postcard",welcome:"Welcome, {name}",guest:"Guest",themeToLight:"Switch to light theme",themeToDark:"Switch to dark theme",eyebrow:"MEMORIES, COLLECTED AND SHARED",subtext:"Collect moments, travel with ease, and share memories.",enterAccount:"Enter your account",username:"Username",userId:"UserID",enterUsername:"Enter username",enterUserId:"Enter userID",saveAndContinue:"Save and Continue",loadingImage:"Loading image...",scannedPostcardAlt:"Scanned postcard",location:"Location",collected:"Collected",collector:"Collector",uploading:"Uploading...",uploadPicture:"Upload picture",collectionMemory:"Collection Memory",noCollectionMemory:"No collection memory found yet.",gridTitle:"Once There, Now a Memory.",noPostcardData:"No postcard data found for this account.",fetchError:"Could not fetch data. Check username and userID.",memoryPromptFallback:"What's your memory about this place?",uploadNeedCredentials:"Please set username and userID before uploading.",uploadFailed:"Upload failed.",uploadResponseMissing:"Upload response missing saved files list.",uploadingFiles:({count:n})=>`Uploading ${n} file${n>1?"s":""}...`,uploadedFiles:({count:n})=>`Uploaded ${n} file${n>1?"s":""} successfully.`,enterBothCredentials:"Please enter both username and userID.",imagePreview:"Image preview"},ko:{brandTitle:"가든 홈 엽서",welcome:"{name}님, 환영합니다",guest:"게스트",themeToLight:"라이트 테마로 전환",themeToDark:"다크 테마로 전환",eyebrow:"추억을 모으고 함께 나눠요",subtext:"순간을 수집하고, 편하게 여행하며, 추억을 공유하세요.",enterAccount:"계정 정보를 입력하세요",username:"사용자 이름",userId:"사용자 ID",enterUsername:"사용자 이름 입력",enterUserId:"사용자 ID 입력",saveAndContinue:"저장하고 계속",loadingImage:"이미지 불러오는 중...",scannedPostcardAlt:"스캔된 엽서",location:"위치",collected:"수집일",collector:"수집자",uploading:"업로드 중...",uploadPicture:"사진 업로드",collectionMemory:"컬렉션 메모리",noCollectionMemory:"아직 컬렉션 메모리가 없습니다.",gridTitle:"그때의 장소, 지금의 추억.",noPostcardData:"이 계정의 엽서 데이터를 찾을 수 없습니다.",fetchError:"데이터를 가져오지 못했습니다. 사용자 이름과 사용자 ID를 확인하세요.",memoryPromptFallback:"이 장소에 대한 당신의 추억은 무엇인가요?",uploadNeedCredentials:"업로드 전에 사용자 이름과 사용자 ID를 설정하세요.",uploadFailed:"업로드에 실패했습니다.",uploadResponseMissing:"업로드 응답에 저장된 파일 목록이 없습니다.",uploadingFiles:({count:n})=>`${n}개 파일 업로드 중...`,uploadedFiles:({count:n})=>`${n}개 파일 업로드 완료.`,enterBothCredentials:"사용자 이름과 사용자 ID를 모두 입력하세요.",imagePreview:"이미지 미리보기"},zh:{brandTitle:"花园之家明信片",welcome:"欢迎，{name}",guest:"访客",themeToLight:"切换到浅色主题",themeToDark:"切换到深色主题",eyebrow:"收集并分享回忆",subtext:"收集瞬间，轻松旅行，分享回忆。",enterAccount:"输入你的账号",username:"用户名",userId:"用户ID",enterUsername:"输入用户名",enterUserId:"输入用户ID",saveAndContinue:"保存并继续",loadingImage:"正在加载图片...",scannedPostcardAlt:"扫描的明信片",location:"地点",collected:"收藏时间",collector:"收藏者",uploading:"上传中...",uploadPicture:"上传图片",collectionMemory:"回忆合集",noCollectionMemory:"暂未找到回忆内容。",gridTitle:"曾经到访，如今成回忆。",noPostcardData:"未找到该账号的明信片数据。",fetchError:"获取数据失败，请检查用户名和用户ID。",memoryPromptFallback:"你对这个地方的回忆是什么？",uploadNeedCredentials:"上传前请先设置用户名和用户ID。",uploadFailed:"上传失败。",uploadResponseMissing:"上传响应缺少已保存文件列表。",uploadingFiles:({count:n})=>`正在上传 ${n} 个文件...`,uploadedFiles:({count:n})=>`成功上传 ${n} 个文件。`,enterBothCredentials:"请输入用户名和用户ID。",imagePreview:"图片预览"}},Ye=[{value:"en",label:"EN"},{value:"ko",label:"한국어"},{value:"zh",label:"中文"}];let F=B([]),Be=B(!0),se=B(!1),Tt=B(""),vr=B(!1),Pt=B(""),qr=B(),gr=l,Tn=B(!1),Pn=B(ne.en[0]),Fr=B(""),Gr=B(""),Jt=B(""),Ze=B("en"),mr=B("Image preview"),ft=B(u),Ut=f,ut=B("dark"),$r=B(R),j=B({title:"Garden Home Postcard",subtitle:"Front Gate in Spring",location:"Portland, Oregon",collected:"2026-02-28",collector:"Garden Home Archive",collectorUsername:"",collectorUserId:""});function si(){return _(Ze)==="ko"?"ko-KR":_(Ze)==="zh"?"zh-CN":"en-US"}function ii(n=_(Ze)){return ne[n]||ne.en}function T(n,d={}){const p=we[_(Ze)]||we.en,v=we.en,b=p[n]??v[n]??n;return typeof b=="function"?b(d):String(b).replace(/\{(\w+)\}/g,(O,q)=>d[q]??"")}function Un(n,d=!0){const p=Ye.some(v=>v.value===n)?n:"en";E(Ze,p),E(Pn,hi()),_(Jt)&&E(mr,T("imagePreview")),d&&Qt(A,_(Ze))}function wr(n){return String(n??"").trim().toLowerCase()}function ai(n){return typeof n=="string"?n:(n==null?void 0:n.visitorName)||(n==null?void 0:n.name)||(n==null?void 0:n.username)||""}function oi(n){return typeof n=="string"?n:(n==null?void 0:n.username)||(n==null?void 0:n.visitorName)||(n==null?void 0:n.name)||""}function li(n){return typeof n=="string"?"":(n==null?void 0:n.userID)||(n==null?void 0:n.userId)||(n==null?void 0:n.id)||""}function Cn(){const n=wr(_(ft)),d=wr(Ut),p=wr(_(j).collectorUsername),v=wr(_(j).collectorUserId);return!!(n&&d&&p&&v&&n===p&&d===v)}function Dn(n,d=!0){E(ut,n==="light"?"light":"dark"),typeof document<"u"&&(document.body.dataset.theme=_(ut)),d&&Qt(w,_(ut))}function fi(){Dn(_(ut)==="dark"?"light":"dark")}function Mn(n,d=0){const p=(n==null?void 0:n.collectionName)||(n==null?void 0:n.collectionTitle)||(n==null?void 0:n.title)||(n==null?void 0:n.name)||`Postcard Memory ${d+1}`,v=(n==null?void 0:n.collectionDescription)||(n==null?void 0:n.description)||(n==null?void 0:n.body)||"No memory description available.",b=(n==null?void 0:n.collectionUniqueID)||(n==null?void 0:n.id)||`memory-${d+1}`,O=n==null?void 0:n.collectionPicture,q=n==null?void 0:n.collectionVideo,P=(n==null?void 0:n.collectionCollected)||(n==null?void 0:n.collectionTimstamp),K=(n==null?void 0:n.collectionPlace)||(n==null?void 0:n.location),W=n==null?void 0:n.collectionProvince,de=(n==null?void 0:n.collectionCollector)||(n==null?void 0:n.collector),Te=ai(de)||(n==null?void 0:n.collectionCollectorName)||(n==null?void 0:n.collectorName)||_(j).collector,_e=(n==null?void 0:n.collectionCollector)||(n==null?void 0:n.collectionCollectorUsername)||oi(de)||_(j).collectorUsername,he=(n==null?void 0:n.collectionCollectorID)||(n==null?void 0:n.collectionCollectorId)||li(de)||_(j).collectorUserId,Pe=K&&W?`${K}, ${W}`:K||_(j).location;return{...n,id:b,title:p,body:v,src:O||k[d]||`https://placehold.co/640x400/png?text=${b}`,video:q||null,placeVisitorLists:(n==null?void 0:n.placeVisitorLists)||[],placeId:(n==null?void 0:n.collectionPlaceID)||null,isCollected:!!(n!=null&&n.collectionIsCollected),collector:Te,collectorUsername:_e,collectorUserId:he,collected:P||new Date().toISOString().slice(0,10),timestamp:(n==null?void 0:n.collectionTimstamp)||null,location:Pe}}function ui(n){const d=[];return n.id&&d.push(`Collection ${n.id}`),n.placeId&&d.push(`Place ID ${n.placeId}`),{title:n.title,subtitle:d.length?d.join(" · "):_(j).subtitle,location:n.location,collected:n.collected,collector:n.collector,collectorUsername:n.collectorUsername,collectorUserId:n.collectorUserId}}function xn(){return _(F).flatMap(n=>(Array.isArray(n==null?void 0:n.collectionMemory)?n.collectionMemory:[]).map((p,v)=>({id:(p==null?void 0:p.id)||`${n.id}-memory-${v+1}`,about:(p==null?void 0:p.memoryAbout)||`Memory ${v+1}`,image:(p==null?void 0:p.memoryPicture)||"",isPrivate:!!(p!=null&&p.memoryisPrivate),timestamp:(p==null?void 0:p.memoryTimestamp)||""})))}function yr(){if(typeof window>"u")return U;const n=window.location.pathname.split("/").map(d=>d.trim()).filter(Boolean);return n[n.length-1]||U}function ci(){return`${h}${yr()}/`}async function di(){const n=await fetch(ci(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:_(ft),userID:Ut,collectionStr:yr()})});if(!n.ok)throw new Error(`Failed to fetch postcard details: ${n.status}`);const d=await n.json();if(d!=null&&d.error)throw new Error(d.error);return d}async function _i(){const n=await di();return Array.isArray(n)?n.map((d,p)=>Mn(d,p)):[Mn(n,0)]}function In(n){if(!n)return"";const[d,p,v]=n.split("-").map(Number),b=si();if(d&&p&&v)return new Date(Date.UTC(d,p-1,v)).toLocaleDateString(b,{month:"short",day:"numeric",year:"numeric",timeZone:"UTC"});const O=new Date(n);return Number.isNaN(O.getTime())?n:O.toLocaleDateString(b,{month:"short",day:"numeric",year:"numeric"})}async function On(){E(Be,!0),E(Tt,""),await new Promise(n=>{setTimeout(n,C)});try{E(F,await _i()),_(F)[0]?(E(j,ui(_(F)[0])),E($r,_(F)[0].src||R)):(E(Tt,T("noPostcardData")),E(se,!0))}catch(n){console.error(n),E(Tt,T("fetchError")),E(se,!0)}finally{E(Be,!1)}}function Xt(n){try{return localStorage.getItem(n)}catch(d){return console.error("Unable to read localStorage key:",n,d),null}}function Qt(n,d){try{return localStorage.setItem(n,d),!0}catch(p){return console.error("Unable to write localStorage key:",n,p),!1}}function hi(){const n=ii();if(!n.length)return T("memoryPromptFallback");const d=Number.parseInt(Xt(te)??"",10);let p=Math.floor(Math.random()*n.length);return n.length>1&&Number.isInteger(d)&&d>=0&&d<n.length&&p===d&&(p=(p+1)%n.length),Qt(te,String(p)),n[p]}async function pi(n){const d=new FormData;for(const b of n)d.append("images",b);d.append("imageField",gr.trim()),d.append("username",_(ft)),d.append("userID",Ut),d.append("collectionUniqueID",yr());const p=await fetch(o,{method:"POST",body:d});let v=null;try{v=await p.json()}catch{v=null}if(!p.ok){const b=(v==null?void 0:v.error)||(v==null?void 0:v.message)||`Upload failed with status ${p.status}`;throw new Error(b)}if(!Array.isArray(v==null?void 0:v.saved))throw new Error(T("uploadResponseMissing"));return v.saved}function vi(n,d){return typeof n=="string"?n:(n==null?void 0:n.memoryPicture)||(n==null?void 0:n.image)||(n==null?void 0:n.imageUrl)||(n==null?void 0:n.url)||(n==null?void 0:n.src)||(n==null?void 0:n.path)||(d==null?void 0:d.previewUrl)||""}function gi(n,d){const p=new Date().toISOString(),v=n.map((P,K)=>{const W=d[K],de=vi(P,W);if(!de)return null;const Te=typeof P=="object"&&(P==null?void 0:P.memoryAbout)||gr.trim()||(W==null?void 0:W.name)||`Uploaded memory ${K+1}`;return{id:typeof P=="object"&&((P==null?void 0:P.id)||(P==null?void 0:P.memoryID))||`uploaded-memory-${Date.now()}-${K+1}`,memoryAbout:Te,memoryPicture:de,memoryisPrivate:!1,memoryTimestamp:typeof P=="object"&&((P==null?void 0:P.memoryTimestamp)||(P==null?void 0:P.timestamp))||p}}).filter(Boolean);if(!v.length)return;if(!_(F).length){E(F,[{id:yr(),title:_(j).title,body:_(j).subtitle,src:_($r),collector:_(j).collector,collectorUsername:_(j).collectorUsername,collectorUserId:_(j).collectorUserId,collected:_(j).collected,location:_(j).location,collectionMemory:v}]);return}const[b,...O]=_(F),q=Array.isArray(b==null?void 0:b.collectionMemory)?b.collectionMemory:[];E(F,[{...b,collectionMemory:[...v,...q]},...O])}function mi(){var n;(n=_(qr))==null||n.click()}function wi(n){var d;gr=((d=n.currentTarget)==null?void 0:d.value)||"",E(Tn,gr.trim().length>0)}async function yi(n){var p;const d=Array.from(((p=n.currentTarget)==null?void 0:p.files)||[]);if(d.length){if(!_(ft)||!Ut){E(Pt,T("uploadNeedCredentials")),n.currentTarget.value="";return}E(vr,!0),E(Pt,T("uploadingFiles",{count:d.length}));try{const v=await pi(d);gi(v,d),E(Pt,T("uploadedFiles",{count:v.length}))}catch(v){console.error("Upload failed:",v),E(Pt,(v==null?void 0:v.message)||T("uploadFailed"))}E(vr,!1),n.currentTarget.value=""}}async function Ei(){const n=_(Fr).trim(),d=_(Gr).trim();if(!n||!d){E(Tt,T("enterBothCredentials"));return}E(ft,n),Ut=d,Qt(m,n),Qt(g,d),E(se,!1),await On()}function Nn(n,d=T("imagePreview")){n&&(E(Jt,n),E(mr,d))}function bi(){E(Jt,""),E(mr,T("imagePreview"))}xo(async()=>{var b,O,q;const n=Xt(w);Dn(n==="light"?"light":"dark",!1);const d=(b=Xt(A))==null?void 0:b.trim();Un(d||"en",!1);const p=(O=Xt(m))==null?void 0:O.trim(),v=(q=Xt(g))==null?void 0:q.trim();if(p&&v){E(ft,p),Ut=v,await On();return}E(Be,!1),E(se,!0)}),Mo();var Rn=Qo(),kn=y(Rn),qn=y(kn),Ai=y(qn),Si=x(qn,2),Fn=y(Si),Li=y(Fn),Gn=x(Fn,2);Wr(Gn,5,()=>Ye,Hr,(n,d)=>{var p=Ro();let v;var b=y(p);re(()=>{v=So(p,1,"lang-btn svelte-1n46o8q",null,v,{"is-active":_(Ze)===_(d).value}),ae(p,"aria-pressed",_(Ze)===_(d).value),N(b,_(d).label)}),Ke("click",p,()=>Un(_(d).value)),Z(n,p)});var Er=x(Gn,2),Ti=y(Er),$n=x(kn,2),jn=y($n),Pi=y(jn),Yn=x(jn,2),Ui=y(Yn),Ci=x(Yn,2);{var Di=n=>{var d=qo(),p=y(d),v=y(p),b=x(p,2),O=y(b),q=y(O),P=x(q),K=x(O,2),W=y(K),de=x(W),Te=x(K,2);{var _e=ie=>{var Ct=ko(),Vt=y(Ct);re(()=>N(Vt,_(Tt))),Z(ie,Ct)};Re(Te,ie=>{_(Tt)&&ie(_e)})}var he=x(Te,2),Pe=y(he);re((ie,Ct,Vt,br,Ar,jr)=>{N(v,ie),N(q,`${Ct??""} `),ae(P,"placeholder",Vt),N(W,`${br??""} `),ae(de,"placeholder",Ar),N(Pe,jr)},[()=>T("enterAccount"),()=>T("username"),()=>T("enterUsername"),()=>T("userId"),()=>T("enterUserId"),()=>T("saveAndContinue")]),cs(P,()=>_(Fr),ie=>E(Fr,ie)),cs(de,()=>_(Gr),ie=>E(Gr,ie)),Ke("submit",b,Do(Ei)),Z(n,d)},Mi=n=>{var d=Bo(),p=y(d);{var v=O=>{var q=Fo(),P=x(y(q),2),K=y(P);re(W=>N(K,W),[()=>T("loadingImage")]),Z(O,q)},b=O=>{var q=Yo(),P=Ha(q),K=x(P,2),W=y(K),de=y(W),Te=x(W,2),_e=y(Te),he=x(Te,2),Pe=y(he),ie=y(Pe),Ct=y(ie),Vt=x(ie,1,!0),br=x(Pe,2),Ar=y(br),jr=y(Ar),Gi=x(Ar,1,!0),$i=x(br,2),Wn=y($i),ji=y(Wn),Yi=x(Wn,1,!0),Zn=x(he,2);{var Bi=ze=>{var ct=$o(),Dt=y(ct);{var Yr=tr=>{var Sr=Go(),Zi=y(Sr);re(Ji=>{Sr.disabled=_(vr),N(Zi,Ji)},[()=>_(vr)?T("uploading"):T("uploadPicture")]),Ke("click",Sr,mi),Z(tr,Sr)};Re(Dt,tr=>{_(Tn)&&tr(Yr)})}var er=x(Dt,2);Co(er,tr=>E(qr,tr),()=>_(qr));var Jn=x(er,2);re(()=>ae(Jn,"placeholder",_(Pn))),Ke("change",er,yi),Ke("input",Jn,wi),Z(ze,ct)},zi=zr(()=>Cn());Re(Zn,ze=>{_(zi)&&ze(Bi)})}var Ki=x(Zn,2);{var Hi=ze=>{var ct=jo(),Dt=y(ct);re(()=>N(Dt,_(Pt))),Z(ze,ct)},Wi=zr(()=>Cn()&&_(Pt));Re(Ki,ze=>{_(Wi)&&ze(Hi)})}re((ze,ct,Dt,Yr,er)=>{ae(P,"src",_($r)),ae(P,"alt",ze),N(de,_(j).title),N(_e,_(j).subtitle),N(Ct,ct),N(Vt,_(j).location),N(jr,Dt),N(Gi,Yr),N(ji,er),N(Yi,_(j).collector)},[()=>T("scannedPostcardAlt"),()=>T("location"),()=>T("collected"),()=>In(_(j).collected),()=>T("collector")]),Z(O,q)};Re(p,O=>{_(Be)?O(v):O(b,!1)})}Z(n,d)};Re(Ci,n=>{_(se)?n(Di):n(Mi,!1)})}var Bn=x($n,2),zn=y(Bn),xi=y(zn),Ii=x(zn,2);{var Oi=n=>{var d=Wo();Wr(d,5,xn,Hr,(p,v)=>{var b=Ho(),O=y(b);{var q=_e=>{var he=zo(),Pe=y(he);re(()=>{ae(Pe,"src",_(v).image),ae(Pe,"alt",_(v).about)}),Ke("click",he,()=>Nn(_(v).image,_(v).about)),Z(_e,he)};Re(O,_e=>{_(v).image&&_e(q)})}var P=x(O,2),K=y(P),W=x(P,2),de=y(W);{var Te=_e=>{var he=Ko(),Pe=y(he);re(ie=>N(Pe,ie),[()=>In(_(v).timestamp)]),Z(_e,he)};Re(de,_e=>{_(v).timestamp&&_e(Te)})}re(()=>N(K,_(v).about)),Z(p,b)}),Z(n,d)},Ni=zr(()=>xn().length),Ri=n=>{var d=Zo(),p=y(d);re(v=>N(p,v),[()=>T("noCollectionMemory")]),Z(n,d)};Re(Ii,n=>{_(Ni)?n(Oi):n(Ri,!1)})}var Kn=x(Bn,2),ki=y(Kn),Hn=x(Kn,2);Wr(Hn,5,()=>_(F),Hr,(n,d)=>{var p=Jo(),v=y(p),b=y(v),O=x(v,2),q=y(O),P=x(O,2),K=y(P);re(()=>{ae(b,"src",_(d).src),ae(b,"alt",_(d).title),N(q,_(d).title),N(K,_(d).body)}),Ke("click",v,()=>Nn(_(d).src,_(d).title)),Z(n,p)});var qi=x(Hn,2);{var Fi=n=>{var d=Xo(),p=y(d);re(()=>{ae(p,"src",_(Jt)),ae(p,"alt",_(mr))}),Ke("click",d,bi),Z(n,d)};Re(qi,n=>{_(Jt)&&n(Fi)})}re((n,d,p,v,b,O,q,P)=>{N(Ai,n),N(Li,d),ae(Er,"aria-label",p),ae(Er,"title",v),N(Ti,_(ut)==="dark"?"☀️":"🌙"),N(Pi,b),N(Ui,O),N(xi,q),N(ki,P)},[()=>T("brandTitle"),()=>T("welcome",{name:_(ft)||T("guest")}),()=>_(ut)==="dark"?T("themeToLight"):T("themeToDark"),()=>_(ut)==="dark"?T("themeToLight"):T("themeToDark"),()=>T("eyebrow"),()=>T("subtext"),()=>T("collectionMemory"),()=>T("gridTitle")]),Ke("click",Er,fi),Z(e,Rn),Ls()}vo(Vo,{target:document.getElementById("app")});
